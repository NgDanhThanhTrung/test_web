<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locket NDTT | Exclusive Premium Bypass</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #fbbf24; }
        body { 
            background: radial-gradient(circle at 0% 0%, #1e1b4b 0%, #020617 100%);
            color: #f1f5f9; font-family: 'Plus Jakarta Sans', sans-serif; min-height: 100vh;
        }
        .glass { 
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
        }
        .gold-gradient {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .faq-item { border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .faq-question { cursor: pointer; transition: all 0.3s ease; padding: 1.25rem 0; }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; font-size: 0.8rem; color: #94a3b8; line-height: 1.6; }
        .faq-item.active .faq-answer { max-height: 1000px; padding-bottom: 1.5rem; }
        .faq-item.active .faq-icon { transform: rotate(180deg); color: var(--gold); }
        
        .pulse-red { animation: pulse-red 2s infinite; }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        .btn-premium {
            background: linear-gradient(135deg, #fbbf24 0%, #d97706 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-premium:hover { transform: translateY(-2px); box-shadow: 0 10px 20px -5px rgba(251, 191, 36, 0.4); }
    </style>
</head>
<body class="py-10 px-4">

    <div class="max-w-6xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-6xl md:text-8xl font-black mb-2 gold-gradient tracking-tighter italic">Locket NDTT</h1>
            <p class="text-slate-500 text-sm font-bold tracking-[0.3em] uppercase italic text-white">Shadowrocket Premium Ecosystem 2026</p>
        </header>

        <div class="mb-8">
            <a href="https://www.facebook.com/ThanhTrung53" target="_blank" class="glass rounded-[2rem] p-1 border border-red-500/30 block hover:scale-[1.005] transition-all group shadow-2xl">
                <div class="bg-gradient-to-r from-red-600/20 to-transparent rounded-[1.9rem] p-6 flex flex-col md:flex-row items-center justify-between gap-6">
                    <div class="flex items-center gap-5">
                        <div class="w-14 h-14 bg-red-600 rounded-2xl flex items-center justify-center text-white text-xl pulse-red shadow-lg"><i class="fas fa-shopping-cart"></i></div>
                        <div>
                            <h3 class="text-lg font-black text-white uppercase italic">Shadowrocket Store</h3>
                            <p class="text-slate-400 text-xs">Chưa có ứng dụng? Mua tài khoản chính chủ chỉ <span class="text-white font-bold text-md">10.000đ</span> tại Facebook.</p>
                        </div>
                    </div>
                    <span class="bg-red-600 text-white px-8 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest group-hover:bg-red-500 transition-colors">Liên hệ Admin</span>
                </div>
            </a>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16">
            <div class="lg:col-span-7">
                <div class="glass rounded-[2.5rem] p-8 md:p-10 border-t border-white/10 h-full shadow-2xl">
                    <h2 class="text-2xl font-bold mb-8 flex items-center gap-3 text-white">
                        <i class="fas fa-fingerprint text-yellow-500"></i> Khởi tạo Module Cá Nhân
                    </h2>

                    <div class="space-y-6">
                        <div>
                            <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 ml-4 italic">Username (Viết liền không dấu)</label>
                            <input type="text" id="user" placeholder="Ví dụ: thanhtrung" class="w-full bg-slate-900/80 border border-white/5 p-5 rounded-2xl outline-none focus:border-yellow-500 transition-all text-white placeholder:text-slate-600">
                        </div>
                        <div>
                            <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 ml-4 italic">Ngày kích hoạt hiển thị</label>
                            <input type="date" id="join_date" value="2026-02-03" onkeydown="return false" class="w-full bg-slate-900/80 border border-white/5 p-5 rounded-2xl outline-none focus:border-yellow-500 transition-all text-slate-300 px-5 cursor-pointer">
                        </div>
                        <button onclick="generate()" id="btnGen" class="w-full py-6 rounded-2xl btn-premium text-black font-black text-xl uppercase tracking-tighter shadow-xl italic">
                            Kích hoạt Module
                        </button>

                        <div class="pt-4 flex items-center justify-center gap-3 opacity-80">
                            <i class="fas fa-user-shield text-emerald-500"></i>
                            <p class="text-[10px] font-bold text-slate-300 uppercase tracking-widest">Bảo mật tuyệt đối - Không thu thập thông tin người dùng</p>
                        </div>
                    </div>

                    <div id="resultArea" class="mt-8 hidden">
                        <div class="p-6 bg-black/40 border border-yellow-500/20 rounded-3xl space-y-4">
                            <p class="text-[10px] text-yellow-500 font-bold uppercase tracking-widest text-center italic">Cấu hình của bạn đã sẵn sàng</p>
                            <code id="resUrl" class="block p-4 bg-slate-950 rounded-xl text-[10px] break-all text-blue-400 font-mono border border-white/5"></code>
                            <div class="grid grid-cols-2 gap-4">
                                <button onclick="copyLink()" class="bg-white/10 py-4 rounded-xl text-xs font-bold text-white uppercase hover:bg-white/20 transition-all italic">Copy Link</button>
                                <a id="quickInstall" href="#" class="bg-blue-600 py-4 rounded-xl text-xs font-bold text-center uppercase text-white hover:bg-blue-500 transition-all italic">Cài Nhanh</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-5">
                <div class="glass rounded-[2.5rem] p-8 border-t border-white/10 h-full shadow-2xl">
                    <h2 class="text-2xl font-bold mb-6 flex items-center gap-3 text-yellow-500">
                        <i class="fas fa-shield-check"></i> Hướng dẫn & Giải đáp lỗi
                    </h2>
                    
                    <div class="space-y-1">
                        <div class="faq-item active border-l-4 border-emerald-500 bg-emerald-500/10 mb-4 rounded-r-xl">
                            <div class="faq-question px-4 flex justify-between items-center" onclick="toggleFaq(this)">
                                <span class="text-sm font-black text-emerald-400 uppercase italic pr-4 tracking-tighter">Giải pháp DNS (Khuyên dùng)</span>
                                <i class="fas fa-bolt faq-icon transition-transform text-xs text-emerald-500"></i>
                            </div>
                            <div class="faq-answer px-4">
                                <p class="mb-3">Đây là cách tối ưu nhất hiện nay. Mình hỗ trợ cài đặt cấu hình DNS trực tiếp vào hệ thống (Settings) của iPhone.</p>
                                <ul class="space-y-2 mb-4">
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-emerald-500"></i> Tự động kích hoạt khi mở Locket.</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-emerald-500"></i> Không cần duy trì App Shadowrocket bật.</li>
                                    <li class="flex items-center gap-2"><i class="fas fa-check text-emerald-500"></i> Tiết kiệm pin, không gây nóng máy.</li>
                                </ul>
                                <a href="https://www.facebook.com/ThanhTrung53" target="_blank" class="inline-flex items-center gap-2 bg-emerald-600 text-white px-5 py-3 rounded-xl text-[10px] font-black uppercase shadow-lg w-full justify-center hover:bg-emerald-500 transition-all italic">
                                    <i class="fab fa-facebook-messenger"></i> Liên hệ cài DNS ngay
                                </a>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question flex justify-between items-center" onclick="toggleFaq(this)">
                                <span class="text-[11px] font-bold text-slate-300 uppercase italic">1. Cách bật HTTPS Decryption (Bắt buộc)</span>
                                <i class="fas fa-chevron-down faq-icon transition-transform text-[10px]"></i>
                            </div>
                            <div class="faq-answer leading-relaxed">
                                Vào tab **Config** trong Shadowrocket -> Nhấn vào dấu **(i)** của file đang chọn -> Chọn **HTTPS Decryption** -> Gạt bật **Decryption**. <br><br>
                                Sau đó chọn **Generate New CA Certificate** -> Chọn **Install Config Profile**. Lúc này máy sẽ yêu cầu tải hồ sơ về.
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question flex justify-between items-center" onclick="toggleFaq(this)">
                                <span class="text-[11px] font-bold text-slate-300 uppercase italic">2. Tin cậy chứng chỉ trên iPhone</span>
                                <i class="fas fa-chevron-down faq-icon transition-transform text-[10px]"></i>
                            </div>
                            <div class="faq-answer leading-relaxed">
                                Bước 1: Vào **Cài đặt máy** -> Đã tải về hồ sơ -> Nhấn Cài đặt chứng chỉ Shadowrocket. <br><br>
                                Bước 2: Vào **Cài đặt chung** -> **Giới thiệu** -> Kéo xuống cuối chọn **Cài đặt tin cậy chứng nhận** -> Gạt bật xanh cho chứng chỉ Shadowrocket.
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question flex justify-between items-center" onclick="toggleFaq(this)">
                                <span class="text-[11px] font-bold text-slate-300 uppercase italic">3. Tại sao vẫn không hiện Gold?</span>
                                <i class="fas fa-chevron-down faq-icon transition-transform text-[10px]"></i>
                            </div>
                            <div class="faq-answer leading-relaxed">
                                Hãy kiểm tra 3 thứ: <br>
                                1. App Shadowrocket đã nhấn **Connected** (Bật) chưa? <br>
                                2. Đã thêm link Module vào mục **Modules** chưa? <br>
                                3. Đã làm bước **Tin cậy chứng chỉ** ở mục số 2 chưa? <br><br>
                                Nếu đã làm hết mà không được, hãy xoá Locket tải lại và khởi động lại Shadowrocket.
                            </div>
                        </div>

                        <div class="faq-item border-none">
                            <div class="faq-question flex justify-between items-center" onclick="toggleFaq(this)">
                                <span class="text-[11px] font-bold text-slate-300 uppercase italic">4. Sử dụng có bị khóa tài khoản không?</span>
                                <i class="fas fa-chevron-down faq-icon transition-transform text-[10px]"></i>
                            </div>
                            <div class="faq-answer leading-relaxed">
                                Module này chỉ can thiệp vào mã hiển thị Premium trên thiết bị cá nhân của bạn. Mọi dữ liệu như ảnh, tin nhắn và tài khoản đều được giữ kín hoàn toàn. Chúng tôi cam kết **không thu thập bất kỳ thông tin nào** của người dùng.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-16 text-white font-bold">
            <a href="https://www.facebook.com/ThanhTrung53" target="_blank" class="glass p-7 rounded-[2rem] flex items-center gap-5 hover:translate-y-[-5px] transition-all border-b-4 border-blue-600">
                <i class="fab fa-facebook-f text-2xl text-blue-500"></i>
                <div><p class="text-[9px] text-slate-500 uppercase">Support Admin</p><p class="text-md italic">Thanh Trung</p></div>
            </a>
            <a href="https://t.me/NgDanhThanhTrung" target="_blank" class="glass p-7 rounded-[2rem] flex items-center gap-5 hover:translate-y-[-5px] transition-all border-b-4 border-sky-500">
                <i class="fab fa-telegram-plane text-2xl text-sky-400"></i>
                <div><p class="text-[9px] text-slate-500 uppercase">Updates</p><p class="text-md italic">Telegram Channel</p></div>
            </a>
            <a href="https://ngdanhthanhtrung.github.io/Bank/" target="_blank" class="glass p-7 rounded-[2rem] flex items-center gap-5 hover:translate-y-[-5px] transition-all border-b-4 border-rose-500">
                <i class="fas fa-heart text-2xl text-rose-500"></i>
                <div><p class="text-[9px] text-slate-500 uppercase">Server Cost</p><p class="text-md text-rose-400 italic">Donate Admin</p></div>
            </a>
        </div>

        <footer class="text-center pb-10 opacity-30 text-[9px] font-black tracking-[0.5em] uppercase text-white">© 2026 Developed by NgDanhThanhTrung | Privacy & Security First</footer>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 glass px-8 py-4 rounded-full text-white border border-yellow-500/30 opacity-0 transition-all duration-500 z-50 text-xs font-bold uppercase pointer-events-none tracking-widest italic">Link đã được sao chép!</div>

    <script>
        function toggleFaq(el) { el.parentElement.classList.toggle('active'); }
        
        async function generate() {
            // Chỉnh username: xóa khoảng trắng và viết thường để đồng bộ hóa
            let user = document.getElementById('user').value.trim().replace(/\s+/g, '').toLowerCase();
            const join_date = document.getElementById('join_date').value;
            const btn = document.getElementById('btnGen');
            
            if(!user) return alert("Vui lòng nhập Username viết liền không dấu!");
            if(!join_date) return alert("Vui lòng chọn ngày kích hoạt!");

            btn.disabled = true; 
            btn.innerHTML = '<i class="fas fa-spinner animate-spin text-2xl"></i>';
            
            try {
                const res = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ user, join_date })
                });
                const data = await res.json();
                if(data.success) {
                    document.getElementById('resultArea').classList.remove('hidden');
                    document.getElementById('resUrl').innerText = data.url;
                    document.getElementById('quickInstall').href = `shadowrocket://config/add/${data.url}`;
                    btn.innerHTML = 'KÍCH HOẠT THÀNH CÔNG';
                } else { 
                    alert(data.error); 
                    btn.disabled = false; btn.innerHTML = 'THỬ LẠI'; 
                }
            } catch (e) { 
                alert("Lỗi kết nối Server! Vui lòng thử lại sau."); 
                btn.disabled = false; btn.innerHTML = 'THỬ LẠI';
            }
        }

        function copyLink() {
            navigator.clipboard.writeText(document.getElementById('resUrl').innerText).then(() => {
                const t = document.getElementById('toast'); 
                t.style.opacity = '1';
                setTimeout(() => t.style.opacity = '0', 3000);
            });
        }
    </script>
</body>
</html>
